# 75. Cloud Identityの概要

---

## Cloud Identityとは

- IT管理をクラウドサービスとして提供する**ID管理サービス**  
- 管理者はコンソールを通じてユーザー管理、アプリ管理、デバイス管理を一元的に実施可能  
- 従来のオンプレミスの**Active Directory (AD)** のクラウド版イメージ  
- Active Directoryは企業ネットワーク内でユーザーやアプリ、デバイスを管理する仕組み（LDAPプロトコル利用）  
- クラウド時代のID管理として、GCPのCloud IdentityやMicrosoft AzureのAzure ADがある  

---

## ドメインの役割

- ユーザー管理には「ドメイン」が必要  
- ドメインはインターネット上でユニークな名前である必要がある  
- ドメインはドメインレジストラ（例：お名前.com、ムームードメイン）から取得・管理  
- Cloud Identityにドメインを登録し、ユーザーをそのドメインに紐づけて管理  

---

## Cloud Identityのエディション

### フリーエディション

- Googleアカウントのユーザー管理  
- Googleドライブ、ドキュメント、スプレッドシートなどの利用が可能  
- 基本的なユーザー管理が中心  

### プレミアムエディション

- エンタープライズ向けの拡張機能  
- セキュリティ強化（2段階認証、パスワード強度モニタリングなど）  
- デバイス管理（画面ロック、パスコード必須化など）  
- アプリケーション管理・シングルサインオン（SSO）対応  
- Active DirectoryやLDAPとの同期  
- レポート機能で利用状況の把握  

---

## 主な管理機能

- ユーザーやグループの作成・管理  
- デバイスのセキュリティポリシー適用・管理  
- アプリケーションのシングルサインオン連携  
- セキュリティ管理（多要素認証など）  
- Google Workspaceとの連携・統合も可能  

---

## Google Workspaceとの違い

- Google Workspaceは企業向けのオフィス・グループウェアサービス  
- ユーザー・アプリ・デバイス管理機能も含むが、主に業務用ツールに特化  
- Cloud IdentityはID管理に特化し、無料で使えるエディションも提供  
- 高度なセキュリティや管理が必要な場合はCloud IdentityのプレミアムやWorkspaceを利用  

---

## まとめ

- Cloud Identityはクラウド上のユーザー・デバイス・アプリ管理を一元化するID管理サービス  
- オンプレのActive Directoryのクラウド版と考えられる  
- ドメインの取得と登録が利用開始の前提  
- フリー版でも基本的な管理は可能、エンタープライズ向けに有料のプレミアム版あり  
- Google Workspaceと役割は近いが、用途や提供機能が異なる  

---


# 76. Cloud Identityの初期設定

---

## Cloud Identity設定の概要

- Cloud IdentityはGCPのサービスの中でも設定が少し複雑  
- 今回は設定完了後の管理画面を中心に機能を確認する  

---

## ドメイン所有証明の重要性

- Cloud Identity利用には**ドメインの所有証明**が必須  
- ドメインは「ユーザー名＠ドメイン名」の形でユーザー管理に使われる  
- 証明されていない状態だと、利用に制限があり、約10日間の猶予期間がある  
- 所有証明は主に**TXTレコードの登録**によって行うのが推奨される  
- ドメインレジストラ（例：お名前.comなど）の管理画面でTXTレコードを設定し、  
  証明ボタンを押して確認プロセスを進める  
- 証明完了まで数分～時間がかかる場合がある  

---

## 管理画面でできること

- **ユーザー管理**（ユーザー追加・編集・グループ管理など）  
- **ディレクトリー同期**（Active DirectoryやLDAPとの同期も可能）  
- **デバイス管理**（モバイル端末、PC、ブラウザなどの管理）  
- **セキュリティ管理**  
  - 2段階認証プロセスの有効化・強制  
  - セキュリティアラートの受信  
- **レポート機能**  
- フリーエディションは最大50ユーザーまで無料利用可能  
- プレミアムエディションへのアップグレードも可能  

---

## 初期設定の流れ

1. GCPコンソールの「IAM と管理」 > 「IDと組織」からCloud Identityのセットアップを開始  
2. 必要情報（組織人数、電話番号、ドメインなど）を入力  
3. ドメインを登録（既に取得済みのドメインを入力）  
4. ドメイン所有証明のためにTXTレコードをレジストラで登録  
5. 証明ボタンを押し、確認が完了するまで待つ  
6. 証明完了後、管理画面の全機能が利用可能に  

---

## 注意点

- ドメインのTXTレコード登録はレジストラごとに操作方法が異なる  
- 証明が完了しないとCloud Identityの利用に制限が残る  
- 電話番号登録時にエラーになる場合は別の番号を試す必要がある場合もある  
- Cloud Identityの設定はGCPだけでなく、ドメイン管理（レジストラ）との連携も重要  

---

## 参考情報

- クラスメソッド社のブログ記事「無料で使えるGoogleクラウドアイデンティティフリーエディションの利用体験」が  
  実際の手順やポイント解説に役立つ  
- AWS Route53などのDNSサービスを利用した所有証明の方法も紹介されている  

---

## まとめ

- Cloud Identityの利用にはドメイン所有証明が必須  
- 管理画面ではユーザー・グループ・デバイス・セキュリティの一元管理が可能  
- フリー版でも基本機能は利用可能で、最大50ユーザーまで対応  
- 証明作業はレジストラの管理画面でTXTレコードを登録し、GCPと連携して行う  
- 設定完了後は多彩な管理機能が利用可能になる  

---

# 小テスト18: Cloud Identity

---

## 問題概要

- Cloud Identityに関する理解度を問う小テスト  
- Cloud Identityの基本概念、機能、設定手順などがテーマ  

---

## 主な出題ポイント（想定）

- Cloud Identityとは何か  
- Cloud Identityの主な機能  
- ドメイン所有証明の重要性と方法  
- フリーエディションとプレミアムエディションの違い  
- 管理画面で可能な操作（ユーザー管理、デバイス管理、セキュリティ設定など）  
- Cloud Identityの初期設定の流れ  

---

## 学習のポイント

- Cloud IdentityはGCPのID管理サービスであること  
- ユーザーやデバイスを一元管理できること  
- ドメイン所有証明はサービス利用の必須条件  
- 2段階認証やSSOなどセキュリティ機能の活用方法  
- 設定時の注意点やよくあるトラブル  

---
